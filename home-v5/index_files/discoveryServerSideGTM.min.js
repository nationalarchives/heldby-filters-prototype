/* ---------------------------------------------------------------------------------------------------------------------------------------------------------------- */
// Google Tag Manager - Discovery ServerSide - https://github.com/nationalarchives/tna-google-tag-manager-scripts/blob/develop/dist/discoveryServerSide.bundle.js
/* ---------------------------------------------------------------------------------------------------------------------------------------------------------------- */
!function (e) { var t = {}; function r(n) { if (t[n]) return t[n].exports; var o = t[n] = { i: n, l: !1, exports: {} }; return e[n].call(o.exports, o, o.exports, r), o.l = !0, o.exports } r.m = e, r.c = t, r.d = function (e, t, n) { r.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n }) }, r.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, r.t = function (e, t) { if (1 & t && (e = r(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var n = Object.create(null); if (r.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var o in e) r.d(n, o, function (t) { return e[t] }.bind(null, o)); return n }, r.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return r.d(t, "a", t), t }, r.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, r.p = "", r(r.s = 22) }([function (e, t, r) { "use strict"; function n(e) { return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } Object.defineProperty(t, "__esModule", { value: !0 }), t.pushInDataLayer = void 0; t.pushInDataLayer = function (e) { return window.dataLayer || (window.dataLayer = []), (e || "object" === n(e)) && window.dataLayer.push(e), e } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.extractMetaTagContent = void 0; t.extractMetaTagContent = function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, t = document.querySelector("meta[name = ".concat(e, " ]")); return t ? t.getAttribute("content") : null } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.removeNullValues = void 0; t.removeNullValues = function e(t) { for (var r, n = Object.keys(t), o = 0; o < n.length; o++)r = n[o], t[r] === Object(t[r]) ? e(t[r]) : null !== t[r] && void 0 !== t[r] || delete t[r], t[r] === Object(t[r]) && 0 === Object.keys(t[r]).length && delete t[r]; return t } }, , , , , , , , , , , , , , , , , , , , function (e, t, r) { "use strict"; var n = r(23), o = r(24), u = r(2); (0, r(0).pushInDataLayer)((0, u.removeNullValues)((0, o.buildObject)((0, n.watermarkCheck)("DCSext\\.imgviewer")))) }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.watermarkCheck = void 0; t.watermarkCheck = function (e) { return null !== document.querySelector("meta[name = ".concat(e, " ]")) } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.buildObject = void 0; var n = r(25), o = r(26), u = r(1); function a() { return (a = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) } t.buildObject = function (e) { return e ? a((0, n.watermarkObject)("ivp", (0, u.extractMetaTagContent)("DCSext\\.imgviewer"), "Image viewer", "Below record description"), (0, o.defaultDiscoveryServerSideObject)((0, u.extractMetaTagContent)("WT\\.cg_n"), (0, u.extractMetaTagContent)("DCSext\\.docref"), (0, u.extractMetaTagContent)("DCSext\\.subscription"), (0, u.extractMetaTagContent)("DCSext\\.signedin"))) : (0, o.defaultDiscoveryServerSideObject)((0, u.extractMetaTagContent)("WT\\.cg_n"), (0, u.extractMetaTagContent)("DCSext\\.docref"), (0, u.extractMetaTagContent)("DCSext\\.subscription"), (0, u.extractMetaTagContent)("DCSext\\.signedin")) } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.watermarkObject = void 0; t.watermarkObject = function () { for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++)t[r] = arguments[r]; return { ecommerce: { promoView: { promotions: [{ id: t[0], name: t[1], creative: t[2], position: t[3] }] } } } } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.defaultDiscoveryServerSideObject = void 0; t.defaultDiscoveryServerSideObject = function (e, t, r, n) { return { ContentGroup: e, customDimension1: t, customDimension2: r, customDimension3: n } } }]);

/* ---------------------------------------------------------------------------------------------------------------------------------------------------------------- */
// Google Tag Manager - Ecommerce Tracking - https://github.com/nationalarchives/tna-google-tag-manager-scripts/blob/develop/dist/ecommerceTracking.bundle.js
/* ---------------------------------------------------------------------------------------------------------------------------------------------------------------- */
!function (e) { var t = {}; function r(n) { if (t[n]) return t[n].exports; var o = t[n] = { i: n, l: !1, exports: {} }; return e[n].call(o.exports, o, o.exports, r), o.l = !0, o.exports } r.m = e, r.c = t, r.d = function (e, t, n) { r.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n }) }, r.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, r.t = function (e, t) { if (1 & t && (e = r(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var n = Object.create(null); if (r.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var o in e) r.d(n, o, function (t) { return e[t] }.bind(null, o)); return n }, r.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return r.d(t, "a", t), t }, r.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, r.p = "", r(r.s = 11) }([function (e, t, r) { "use strict"; function n(e) { return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } Object.defineProperty(t, "__esModule", { value: !0 }), t.pushInDataLayer = void 0; t.pushInDataLayer = function (e) { return window.dataLayer || (window.dataLayer = []), (e || "object" === n(e)) && window.dataLayer.push(e), e } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.extractMetaTagContent = void 0; t.extractMetaTagContent = function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, t = document.querySelector("meta[name = ".concat(e, " ]")); return t ? t.getAttribute("content") : null } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.removeNullValues = void 0; t.removeNullValues = function e(t) { for (var r, n = Object.keys(t), o = 0; o < n.length; o++)r = n[o], t[r] === Object(t[r]) ? e(t[r]) : null !== t[r] && void 0 !== t[r] || delete t[r], t[r] === Object(t[r]) && 0 === Object.keys(t[r]).length && delete t[r]; return t } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.buildEcommerceObj = void 0; var n = r(15); t.buildEcommerceObj = function () { for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++)t[r] = arguments[r]; var o, i, a, u = t[0], c = t[1], l = t[2], s = t[3], f = t[4], d = t[5], p = t[6], y = t[7], v = t[8]; return (0, n.stringOrNull)(t) && Array.isArray(v) ? { event: u, ecommerce: (o = {}, i = c, a = { actionField: { step: l, id: s, affiliation: f, revenue: d, tax: p, shipping: y }, products: v }, i in o ? Object.defineProperty(o, i, { value: a, enumerable: !0, configurable: !0, writable: !0 }) : o[i] = a, o) } : "The parameters are of the incorrect data type." } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.populateActionField = void 0; var n = r(1); t.populateActionField = function (e) { var t = { id: (0, n.extractMetaTagContent)("WT\\.tx_id"), affiliation: (0, n.extractMetaTagContent)("WT\\.si_n"), revenue: (0, n.extractMetaTagContent)("WT\\.tx_total"), tax: "0", shipping: "0" }; return "Step 4" !== e ? { id: null, affiliation: null, revenue: null, tax: null, shipping: null } : t } }, , , , , , , function (e, t, r) { "use strict"; var n = r(12), o = r(13), i = r(1), a = r(14), u = r(3), c = r(16), l = r(17), s = r(18), f = r(19), d = r(20), p = r(2), y = r(21), v = r(4), b = r(0), m = (0, i.extractMetaTagContent)("WT\\.si_p"), O = (0, y.splitToArray)((0, i.extractMetaTagContent)("WT\\.pn_fa")), _ = (0, y.splitToArray)((0, i.extractMetaTagContent)("WT\\.pn_sku")), h = (0, y.splitToArray)((0, i.extractMetaTagContent)("WT\\.tx_s")), g = (0, o.buildProductsObjArray)((0, a.extractProductName)(_), _, h, O, (0, n.calculateQuantity)(_)), j = { ".removeLink": (0, l.removeBasketItem)(g), ".text_sketch.call-to-action-link": (0, s.submitOrder)(g, (0, i.extractMetaTagContent)("WT\\.tx_total")) }; if (document.addEventListener("DOMContentLoaded", function () { (0, c.buttonsExist)(j) }), m && "Step 1" === m || "Step 2" === m || "Step 4" === m) { var x = (0, v.populateActionField)(m), A = x.id, M = x.affiliation, T = x.revenue, P = x.tax, S = x.shipping; (0, b.pushInDataLayer)((0, p.removeNullValues)((0, u.buildEcommerceObj)((0, f.verifyEvent)(m), (0, d.verifyOption)(m), m, A, M, T, S, P, g))) } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.calculateQuantity = void 0; t.calculateQuantity = function (e) { var t, r, n = {}; if (Array.isArray(e)) { for (var o = e, i = 0; i < o.length; i++)t = o[i], r = i, n[t] ? n[t].push(r) : n[t] = [r]; return n } return "The parameter is of the incorrect data type." } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.buildProductsObjArray = void 0; var n = r(1); function o(e) { return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } t.buildProductsObjArray = function (e, t, r, i, a) { if (Array.isArray(e) && Array.isArray(t) && Array.isArray(r) && Array.isArray(i) && "object" === o(a)) { for (var u = [], c = 0; c < t.length; c++)u.push({ name: e[c], price: r[c], brand: (0, n.extractMetaTagContent)("WT\\.pn_gr"), category: i[c], variant: t[c], quantity: a[t[c].split(",")[0]].length }); return u } return "The parameters are of the incorrect data type." } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.extractProductName = void 0; t.extractProductName = function (e) { if (Array.isArray(e)) { for (var t = [], r = e, n = 0; n < r.length; n++)o = r[n], i = void 0, i = o.indexOf("/"), t.push(o.slice(0, i)); return t } return "The parameter is of the incorrect data type."; var o, i } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.stringOrNull = void 0; t.stringOrNull = function (e) { var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]; return Array.isArray(e) ? e.forEach(function (e) { Array.isArray(e) || (t = !("string" != typeof e && null !== e)) }) : t = !1, t } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.buttonsExist = void 0; t.buttonsExist = function (e) { for (var t = Object.keys(e), r = function (t) { for (var r = document.querySelectorAll(t), n = 0; n < r.length; n++)r[n].addEventListener("click", e[t]) }, n = 0; n < t.length; n++)r(t[n]) } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.removeBasketItem = void 0; var n = r(3), o = r(2), i = r(4), a = r(0); t.removeBasketItem = function (e) { return function () { var t = (0, i.populateActionField)(null), r = t.id, u = t.affiliation, c = t.revenue, l = t.tax, s = t.shipping, f = event.target.parentElement.parentElement, d = parseInt(f.children[0].innerHTML[0]) - 1, p = e.slice(d, d + 1), y = (0, o.removeNullValues)((0, n.buildEcommerceObj)("removeFromCart", "remove", null, r, u, c, l, s, p)); (0, a.pushInDataLayer)(y) } } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.submitOrder = void 0; var n = r(3), o = r(2), i = r(4), a = r(0); t.submitOrder = function (e) { return function () { var t = (0, i.populateActionField)("Step 3"), r = t.id, u = t.affiliation, c = t.revenue, l = t.tax, s = t.shipping, f = (0, o.removeNullValues)((0, n.buildEcommerceObj)("transaction", "checkout", "Step 3", r, u, c, l, s, e)); (0, a.pushInDataLayer)(f) } } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.verifyEvent = void 0; t.verifyEvent = function (e) { var t; switch (e) { case "Step 1": case "Step 2": t = "checkout"; break; case "Step 4": t = "checkoutOption"; break; default: t = "Invalid step" }return t } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.verifyOption = void 0; t.verifyOption = function (e) { return "Step 4" === e ? "purchase" : "checkout" } }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.splitToArray = void 0; t.splitToArray = function (e) { return null === e ? [] : e.split(";") } }]);

/* ---------------------------------------------------------------------------------------------------------------------------------------------------------------- */
// Google Tag Manager - ImageViewer Controller Tracking - https://github.com/nationalarchives/tna-google-tag-manager-scripts/blob/develop/dist/imageViewer.bundle.js
/* ---------------------------------------------------------------------------------------------------------------------------------------------------------------- */
!function (e) { var t = {}; function n(o) { if (t[o]) return t[o].exports; var r = t[o] = { i: o, l: !1, exports: {} }; return e[o].call(r.exports, r, r.exports, n), r.l = !0, r.exports } n.m = e, n.c = t, n.d = function (e, t, o) { n.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: o }) }, n.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, n.t = function (e, t) { if (1 & t && (e = n(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var o = Object.create(null); if (n.r(o), Object.defineProperty(o, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var r in e) n.d(o, r, function (t) { return e[t] }.bind(null, r)); return o }, n.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return n.d(t, "a", t), t }, n.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, n.p = "", n(n.s = 29) }({ 0: function (e, t, n) { "use strict"; function o(e) { return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } Object.defineProperty(t, "__esModule", { value: !0 }), t.pushInDataLayer = void 0; t.pushInDataLayer = function (e) { return window.dataLayer || (window.dataLayer = []), (e || "object" === o(e)) && window.dataLayer.push(e), e } }, 29: function (e, t, n) { "use strict"; var o = n(30), r = n(31), a = n(0); if (Element && !Element.prototype.matches) { var u = Element.prototype; u.matches = u.matchesSelector || u.mozMatchesSelector || u.msMatchesSelector || u.oMatchesSelector || u.webkitMatchesSelector } var c = function (e) { ("A" === e.target.nodeName || "SELECT" === e.target.nodeName || e.target.matches("#thumbPanel img") || e.target.matches(".control-buttons span")) && (0, a.pushInDataLayer)((0, o.controlObj)("Discovery image viewer", "Discovery", "Image viewer functions", (0, r.getEventLabel)(e, "title"))) }; document.addEventListener("DOMContentLoaded", function () { var e = document.getElementById("imageViewer"); e && e && e.addEventListener("click", c, !1) }) }, 30: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.controlObj = void 0; t.controlObj = function (e, t, n, o) { return { event: e || "no event", eventCategory: t || "no event category", eventAction: n || "no event action", eventLabel: o || "no event label" } } }, 31: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.getEventLabel = void 0; t.getEventLabel = function (e, t) { return e.target.matches("#thumbPanel img") ? "View full size image" : e.target.matches("select") ? "Page number" : e.target.getAttribute(t) } } });

/* ---------------------------------------------------------------------------------------------------------------------------------------------------------------- */
// Google Tag Manager - Filter Tracking - https://github.com/nationalarchives/tna-google-tag-manager-scripts/blob/develop/dist/filterTracking.bundle.js
/* ---------------------------------------------------------------------------------------------------------------------------------------------------------------- */
!function (e) { var t = {}; function r(n) { if (t[n]) return t[n].exports; var o = t[n] = { i: n, l: !1, exports: {} }; return e[n].call(o.exports, o, o.exports, r), o.l = !0, o.exports } r.m = e, r.c = t, r.d = function (e, t, n) { r.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n }) }, r.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, r.t = function (e, t) { if (1 & t && (e = r(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var n = Object.create(null); if (r.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var o in e) r.d(n, o, function (t) { return e[t] }.bind(null, o)); return n }, r.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return r.d(t, "a", t), t }, r.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, r.p = "", r(r.s = 32) }({ 0: function (e, t, r) { "use strict"; function n(e) { return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } Object.defineProperty(t, "__esModule", { value: !0 }), t.pushInDataLayer = void 0; t.pushInDataLayer = function (e) { return window.dataLayer || (window.dataLayer = []), (e || "object" === n(e)) && window.dataLayer.push(e), e } }, 32: function (e, t, r) { "use strict"; var n = r(33), o = r(0), i = r(34); document.addEventListener("DOMContentLoaded", function () { for (var e = document.querySelectorAll("#search-filters form"), t = 0; t < e.length; t++)e[t].addEventListener("click", function (e) { "Refine" === e.target.value && (e.preventDefault(), (0, o.pushInDataLayer)((0, n.buildFilterTrackingObj)(e.target.name, (0, i.checkFilters)(e.currentTarget))), this.submit()) }) }) }, 33: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.buildFilterTrackingObj = void 0; t.buildFilterTrackingObj = function (e, t) { return "string" == typeof e && Array.isArray(t) ? { event: "Discovery", eventCategory: "Discovery", eventAction: e, eventLabel: t.toString() } : "The parameters are of the incorrect data type." } }, 34: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.checkFilters = void 0; var n = r(35); t.checkFilters = function (e) { for (var t, r = [], o = e.querySelectorAll("input"), i = 0; i < o.length; i++)(t = o[i]).checked && r.push((0, n.cleanLabelName)(t.nextElementSibling.textContent)); return r } }, 35: function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.cleanLabelName = void 0; t.cleanLabelName = function (e) { return "string" == typeof e ? (e = e.split("("))[0].trim() : "The parameters are of the incorrect data type." } } });

/* ---------------------------------------------------------------------------------------------------------------------------------------------------------------- */
// Google Tag Manager - Bookmark sorting Tracking - https://github.com/nationalarchives/tna-google-tag-manager-scripts/blob/develop/dist/bookmarkSorting.bundle.js
/* ---------------------------------------------------------------------------------------------------------------------------------------------------------------- */
!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=39)}({0:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.pushInDataLayer=void 0;e.pushInDataLayer=function(t){return window.dataLayer||(window.dataLayer=[]),(t||"object"===r(t))&&window.dataLayer.push(t),t}},3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.capitalizeFirstLetter=void 0;e.capitalizeFirstLetter=function(t){return"string"!=typeof t?null:t[0].toUpperCase()+t.slice(1)}},39:function(t,e,n){"use strict";var r,o=(r=n(6))&&r.__esModule?r:{default:r},i=n(0),u=n(40);document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("sortOptions"),e=document.getElementById("sortOptions2");t&&e&&(t.addEventListener("change",function(){(0,i.pushInDataLayer)((0,o.default)("discovery","discovery","bookmark sorting",(0,u.getOptionTextById)("sortOptions")))},!1),e.addEventListener("change",function(){(0,i.pushInDataLayer)((0,o.default)("discovery","discovery","bookmark sorting",(0,u.getOptionTextById)("sortOptions2")))},!1))})},40:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOptionTextById=void 0;e.getOptionTextById=function(t){if("string"!=typeof t)return null;var e=document.getElementById(t);return e?-1===e.selectedIndex?null:e.options[e.selectedIndex].text:null}},6:function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e,n,o){return"string"!=typeof t||"string"!=typeof e||"string"!=typeof n||"string"!=typeof o?null:{event:(0,r.capitalizeFirstLetter)(t),eventCategory:(0,r.capitalizeFirstLetter)(e),eventAction:(0,r.capitalizeFirstLetter)(n),eventLabel:o}}}});

/* ---------------------------------------------------------------------------------------------------------------------------------------------------------------- */
// Google Tag Manager - Bookmark link Tracking - https://github.com/nationalarchives/tna-google-tag-manager-scripts/blob/develop/dist/bookmarkClick.bundle.js
/* ---------------------------------------------------------------------------------------------------------------------------------------------------------------- */
!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=38)}({0:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.pushInDataLayer=void 0;t.pushInDataLayer=function(e){return window.dataLayer||(window.dataLayer=[]),(e||"object"===n(e))&&window.dataLayer.push(e),e}},3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.capitalizeFirstLetter=void 0;t.capitalizeFirstLetter=function(e){return"string"!=typeof e?null:e[0].toUpperCase()+e.slice(1)}},38:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkValue=void 0;var n,o=r(0),i=r(3),u=(n=r(6))&&n.__esModule?n:{default:n};var a=function(e){return-1!==e.target.getAttribute("href").indexOf("result")?(0,i.capitalizeFirstLetter)("search results bookmark"):(0,i.capitalizeFirstLetter)("catalogue description bookmark")};t.checkValue=a,document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("#bookmarks .bookmarkMain a");if(e.length>0)for(var t=e,r=0;r<t.length;r++)t[r].addEventListener("click",function(e){(0,o.pushInDataLayer)((0,u.default)("discovery","discovery","bookmark link",a(e)))})})},6:function(e,t,r){"use strict";var n=r(3);e.exports=function(e,t,r,o){return"string"!=typeof e||"string"!=typeof t||"string"!=typeof r||"string"!=typeof o?null:{event:(0,n.capitalizeFirstLetter)(e),eventCategory:(0,n.capitalizeFirstLetter)(t),eventAction:(0,n.capitalizeFirstLetter)(r),eventLabel:o}}}});
